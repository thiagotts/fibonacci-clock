/// <reference path="SquareState.ts"/>

class Square {
	public state: SquareState;

	constructor(public xAxis: number, public yAxis: number, public length: number) {
		this.state = SquareState.Off;
	}

	public draw(context: CanvasRenderingContext2D, unitSize: number): void {
		context.beginPath();
		context.rect(this.xAxis, this.yAxis, this.length, this.length);

		var imageObj = new Image();
		imageObj.src = this.getColor();
		var pattern = context.createPattern(imageObj, 'repeat');

		context.fillStyle = pattern;
		context.fill();
		context.lineWidth = unitSize * 0.015;
		context.strokeStyle = 'black';
		context.stroke();
	}

	private getColor(): string {
		switch (this.state) {
			case SquareState.Off:
				return this.getGrey();

			case SquareState.Blue:
				return this.getBlue();

			case SquareState.Red:
				return this.getRed();

			case SquareState.Green:
				return this.getGreen();
		}
	}

	private getBlue(): string {
		return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUXFCcpqcrFqQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAANQSURBVHja7dcxDcAgEIZRehsCcICdmqmgKsMBAhjbtThoLo/l8sL+J99xXvez5ii19eK6bs4ba47yfcycz1Fb3z6YOZ/D8jHnd1g+5vzW6MwanZk1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0ZlZozOzRmdmjc7MGp2ZNToza3Rm1ujMGt3yMWt0ZtbozKzRmVmjM7NGZ2aNzswanVmjWz5mjc7MGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1ujMrNGZWaMzs0ZnZo3OzBqdmTU6M2t0Zo1u+Zg1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0S0fs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0ZtbozKzRmVmjM7NGZ2aNzswanZk1OrNGt3zMGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1uiWj1mjM7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1OjNrdGbW6Mys0ZlZozOzRmdmjc7MGp1Zo1s+Zo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0y8es0ZlZozOzRmdmjc7MGp2ZNToza3Rm1ujMGp2ZNToza3Rm1ujMrNGZWaMzs0ZnZo3OrNEtH7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1uuVj1ujMrNGZWaMzs0ZnZo3OzBqdmTU6M2t0Zo3OzBqdmTU6M2t0ZtbozKzRmVmjM7NGZ9bolpBZozOzRmdmjc7MGp2ZNToza3Rm1ujMGt3yMWt0ZtbozKzRmVmjM7NGZ2aNzswanZk1OrNGZ2aNzswanZk1OjNrdGbW6Mys0ZlZozNrdGbW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRrd8zBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRmVmjM7NGZ2aNzswanZk1OjNrdGbW6MwanZk1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0S0fs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0ZtbozKzRmVmjM7NGZ2aNzswanZk1OrNGZ2aNzswanZk1OjNrdGbW6Mys0ZlZozNrdMvHrNGZWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRmVmjM7NGZ+bf+QVSr/80+BzgIQAAAABJRU5ErkJggg==";
	}

	private getGrey(): string {
		return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUXFCgIYjvJOAAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAANKSURBVHja7dfBCYBQDETBmHrSfjpJP3oR0Q4kzL+EwbML7+juc2aiqsJ13Z03434zE+/HzHv8/OhV9fnAzHuclo95v9PyMe+3RmfW6Mys0ZlZozOzRmdmjc7MGp2ZNToza3Rmjc7MGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1uiWj1mjM7NGZ2aNzswanZk1OjNrdGbW6Mwa3fIxa3Rm1ujMrNGZWaMzs0ZnZo3OzBqdmTU6s0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0y8es0ZlZozOzRmdmjc7MGp2ZNToza3RmjW75mDU6M2t0ZtbozKzRmVmjM7NGZ2aNzswanVmjM7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1uuVj1ujMrNGZWaMzs0ZnZo3OzBqdmTU6s0a3fMwanZk1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0ZlZozOzRmdmjc7MGp2ZNToza3Rm1ujMGt3yMWt0ZtbozKzRmVmjM7NGZ2aNzswanVmjWz5mjc7MGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1ujMrNGZWaMzs0ZnZo3OzBqdmTU6M2t0Zo1u+Zg1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0S0fs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0ZtbozKzRmVmjM7NGZ2aNzswanZk1OrNGt4TMGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1uiWj1mjM7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1OjNrdGbW6Mys0ZlZozOzRmdmjc7MGp1ZozOzRmdmjc7MGp2ZNToza3Rm1ujMrNGZNbrlY9bozKzRmVmjM7NGZ2aNzswanZk1OjNrdGaNzswanZk1OjNrdGbW6Mys0ZlZozOzRmfW6Mys0ZlZozOzRmdmjc7MGp2ZNToza3RmjW75mDU6M2t0ZtbozKzRmVmjM7NGZ2aNzswanVmjM7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1OjNrdGbW6Mys0ZlZozOzRmdmjc7MGp1Zo1s+Zo3OzBqdmTU6M2t0ZtbozKzRmVmjM7NGZ9bozKzRmVmjM7NGZ2aNzswanZk1OjNrdGaNzswanZk1OjP/zheAJ+z6/BHmfgAAAABJRU5ErkJggg==";
	}
	
	private getRed(): string {
		return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUXFCYkzmCIVQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAANMSURBVHja7dexDcAgDEVB4glgJxZJkynZCTYgbbIBso7GOtF/6V37ufeYq/RWi+u6OW+Mucr3MXM+R2/198HM+RyWjzm/w/Ix57dGZ9bozKzRmVmjM7NGZ2aNzswanZk1OjNrdGaNzswanZk1OjNrdGbW6Mys0ZlZozOzRmfW6JaPWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozBrd8jFrdGbW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRmdmjc7MGp2ZNToza3Rm1ujMrNGZWaMza3TLx6zRmVmjM7NGZ2aNzswanZk1OjNrdGaNbvmYNToza3Rm1ujMrNGZWaMzs0ZnZo3OzBqdWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmTW65WPW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRrd8zBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRmVmjM7NGZ2aNzswanZk1OjNrdGbW6Mwa3fIxa3Rm1ujMrNGZWaMzs0ZnZo3OzBqdWaNbPmaNzswanZk1OjNrdGbW6Mys0ZlZozOzRmfW6Mys0ZlZozOzRmdmjc7MGp2ZNToza3RmjW75mDU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRLR+zRmdmjc7MGp2ZNToza3Rm1ujMrNGZWaMza3Rm1ujMrNGZWaMzs0ZnZo3OzBqdmTU6s0a3hMwanZk1OjNrdGbW6Mys0ZlZozOzRmfW6JaPWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzswanVmjM7NGZ2aNzswanZk1OjNrdGbW6Mys0Zk1uuVj1ujMrNGZWaMzs0ZnZo3OzBqdmTU6M2t0Zo3OzBqdmTU6M2t0ZtbozKzRmVmjM7NGZ9bozKzRmVmjM7NGZ2aNzswanZk1OjNrdGaNbvmYNToza3Rm1ujMrNGZWaMzs0ZnZo3OzBqdWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzswanVmjWz5mjc7MGp2ZNToza3Rm1ujMrNGZWaMzs0Zn1ujMrNGZWaMzs0ZnZo3OzBqdmTU6M2t0Zo3OzBqdmTU6Mx/nF+jj9t2Pr5TiAAAAAElFTkSuQmCC";
	}
	
	private getGreen(): string {
		return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAYAAACI7Fo9AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wUXFCU6H0Lm9QAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAANWSURBVHja7dcxDYAwEIbRo1sF1AFyUIMglNVBBXSEhRBwQC6vy+WFmT/5lu3Yz9lH1LWF67o5b4n7zT7i/Zg5j58fva7t84GZ87hYPub8LpaPOb81OrNGZ2aNzswanZk1OjNrdGbW6Mys0ZlZozNrdGbW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRrd8zBqdmTU6M2t0ZtbozKzRmVmjM7NGZ9bolo9ZozOzRmdmjc7MGp2ZNToza3Rm1ujMrNGZNToza3Rm1ujMrNGZWaMzs0ZnZo3OzBqdWaNbPmaNzswanZk1OjNrdGbW6Mys0ZlZozNrdMvHrNGZWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRLR+zRmdmjc7MGp2ZNToza3Rm1ujMrNGZNbrlY9bozKzRmVmjM7NGZ2aNzswanZk1OjNrdGaNzswanZk1OjNrdGbW6Mys0ZlZozOzRmfW6JaPWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozBrd8jFrdGbW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRmdmjc7MGp2ZNToza3Rm1ujMrNGZWaMza3TLx6zRmVmjM7NGZ2aNzswanZk1OjNrdGaNbvmYNToza3Rm1ujMrNGZWaMzs0ZnZo3OzBqdWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmTW6JWTW6Mys0ZlZozOzRmdmjc7MGp2ZNTqzRrd8zBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRmVmjM7NGZ2aNzswanZk1OjNrdGbW6MwanZk1OjNrdGbW6Mys0ZlZozOzRmdmjc6s0S0fs0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0ZtbozKzRmVmjM7NGZ2aNzswanZk1OrNGZ2aNzswanZk1OjNrdGbW6Mys0ZlZozNrdMvHrNGZWaMzs0ZnZo3OzBqdmTU6M2t0ZtbozBqdmTU6M2t0ZtbozKzRmVmjM7NGZ2aNzqzRmVmjM7NGZ2aNzswanZk1OjNrdGbW6Mwa3fIxa3Rm1ujMrNGZWaMzs0ZnZo3OzBqdmTU6s0ZnZo3OzBqdmTU6M2t0ZtbozKzRmVmjM2t0ZtbozKzRmfl3vgAwbPx1LA3s9gAAAABJRU5ErkJggg==";
	}
}